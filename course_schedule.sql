-- =====================================================
-- 课表数据表（简化版）- 接收排课系统数据，用于空闲教室查询
-- 请在云数据库 fixedassets_manage 中执行此SQL
-- =====================================================

DROP TABLE IF EXISTS `course_schedule`;
CREATE TABLE `course_schedule` (
  `schedule_id` varchar(50) NOT NULL COMMENT '排课记录ID（格式：CS-年份-流水号）',
  `course_name` varchar(100) NOT NULL COMMENT '课程名称',
  `class_time` varchar(50) NOT NULL COMMENT '上课时间（如：周一3-4节、周二1-2节）',
  `classroom_id` varchar(50) NOT NULL COMMENT '占用教室（房间编码，如：R-B-A-01-01-0101）',
  `enrolled_count` int NOT NULL DEFAULT 0 COMMENT '课程人数（实际上课人数）',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
  PRIMARY KEY (`schedule_id`),
  KEY `idx_classroom` (`classroom_id`),
  KEY `idx_class_time` (`class_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci COMMENT='课表数据表（简化版，接收排课系统数据）';

-- =====================================================
-- 示例数据
-- 教室编码规则：R-建筑编号-楼层-房间号
-- 建筑编码：B-类型码-校区码-楼栋序号
--   A=教学楼, D=实验楼, F=其他
-- 示例教室：
--   R-B-A-01-01-0101 = 主校区01号教学楼1层101室
--   R-B-A-01-01-0201 = 主校区01号教学楼2层201室
--   R-B-A-01-02-0301 = 主校区02号教学楼3层301室
--   R-B-D-01-01-0101 = 主校区01号实验楼1层101室
--   R-B-F-01-01-0101 = 主校区逸夫楼1层101室
-- =====================================================

INSERT INTO `course_schedule` (`schedule_id`, `course_name`, `class_time`, `classroom_id`, `enrolled_count`) VALUES 
-- 周一课程
('CS-2025-001', '数据结构与算法', '周一3-4节', 'R-B-A-01-01-0101', 85),
('CS-2025-002', '操作系统原理', '周一5-6节', 'R-B-A-01-01-0201', 90),
('CS-2025-003', '线性代数', '周一1-2节', 'R-B-A-01-02-0101', 120),

-- 周二课程
('CS-2025-004', '计算机网络', '周二1-2节', 'R-B-A-01-01-0301', 72),
('CS-2025-005', '高等数学A', '周二1-2节', 'R-B-A-01-02-0201', 121),
('CS-2025-006', '大数据技术', '周二7-8节', 'R-B-A-01-01-0201', 39),

-- 周三课程
('CS-2025-007', '人工智能导论', '周三5-6节', 'R-B-A-01-02-0301', 45),
('CS-2025-008', '云计算技术', '周三3-4节', 'R-B-A-01-01-0101', 43),

-- 周四课程
('CS-2025-009', '数据库系统', '周四3-4节', 'R-B-A-01-02-0101', 69),
('CS-2025-010', '艺术鉴赏', '周四1-2节', 'R-B-F-01-01-0101', 35),
('CS-2025-011', '音乐欣赏', '周四3-4节', 'R-B-F-01-01-0201', 29),

-- 周五课程
('CS-2025-012', '区块链技术', '周五9-10节', 'R-B-D-01-01-0101', 9),
('CS-2025-013', '文学赏析', '周五1-2节', 'R-B-A-01-01-0201', 31),
('CS-2025-014', '体育与健康', '周五1-2节', 'R-B-F-01-01-0301', 46);
